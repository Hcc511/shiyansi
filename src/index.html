<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>游戏寻宝界面</title>
    <style type="text/css">

        *{
            margin:0 17%;
            padding:0;
        }

        #myDiv{
            margin:0 auto;
        }
        #d{
            text-align: center;
            margin: 0 auto;
        }
        #world{
            text-align: center;
            margin: 0 39%;
        }
    </style>
</head>
<body>
<script src="js/pixi.min.js"></script>
    <div id="myDiv">
        <script>

        var app = new PIXI.Application(480,880);
        document.body.appendChild(app.view);

        //添加元素
        var bj = new PIXI.Sprite.fromImage("res/bj.png");
        app.stage.addChild(bj);
        bj.scale.set(0.2,0.2);


        gzx = 180;
        gzy = 190;



        var gz1 = new PIXI.Sprite.fromImage("res/gz1.png");
        app.stage.addChild(gz1);
        gz1.anchor.set(0.5,0.5);
        gz1.scale.set(0.15,0.15);
        gz1.x=390;
        gz1.y=570;
        var gz11 = new PIXI.Sprite.fromImage("res/gz11.png");
        app.stage.addChild(gz11);
        gz11.anchor.set(0.5,0.5);
        gz11.scale.set(0.15,0.15);
        gz11.x=390;
        gz11.y=570;
        gz11.visible=false;


        var gz3 = new PIXI.Sprite.fromImage("res/gz3.png");
        app.stage.addChild(gz3);
        gz3.anchor.set(0.5,0.5);
        gz3.scale.set(0.09,0.09);
        gz3.x=360;
        gz3.y=230;
        var gz33 = new PIXI.Sprite.fromImage("res/gz33.png");
        app.stage.addChild(gz33);
        gz33.anchor.set(0.5,0.5);
        gz33.scale.set(0.09,0.09);
        gz33.x=360;
        gz33.y=230;
        gz33.visible=false;


        var gz4 = new PIXI.Sprite.fromImage("res/gz4.png");
        app.stage.addChild(gz4);
        gz4.anchor.set(0.5,0.5);
        gz4.scale.set(0.12,0.12);
        gz4.x=350;
        gz4.y=770;
        var gz44 = new PIXI.Sprite.fromImage("res/gz44.png");
        app.stage.addChild(gz44);
        gz44.anchor.set(0.5,0.5);
        gz44.scale.set(0.45,0.45);
        gz44.x=348;
        gz44.y=790;
        gz44.visible=false;



        var gz5 = new PIXI.Sprite.fromImage("res/gz5.png");
        app.stage.addChild(gz5);
        gz5.anchor.set(0.5,0.5);
        gz5.scale.set(0.12,0.12);
        gz5.x=100;
        gz5.y=260;
        var gz55 = new PIXI.Sprite.fromImage("res/gz55.png");
        app.stage.addChild(gz55);
        gz55.anchor.set(0.5,0.5);
        gz55.scale.set(0.12,0.12);
        gz55.x=84;
        gz55.y=250;
        gz55.visible=false;



        var gz6 = new PIXI.Sprite.fromImage("res/gz6.png");
        app.stage.addChild(gz6);
        gz6.anchor.set(0.5,0.5);
        gz6.scale.set(0.1,0.1);
        gz6.x=310;
        gz6.y=450;
        var gz66 = new PIXI.Sprite.fromImage("res/gz66.png");
        app.stage.addChild(gz66);
        gz66.anchor.set(0.5,0.5);
        gz66.scale.set(0.1,0.1);
        gz66.x=310;
        gz66.y=450;
        gz66.visible=false;



        var gz7 = new PIXI.Sprite.fromImage("res/gz7.png");
        app.stage.addChild(gz7);
        gz7.anchor.set(0.5,0.5);
        gz7.scale.set(0.15,0.15);
        gz7.x=100;
        gz7.y=640;
        var gz77 = new PIXI.Sprite.fromImage("res/gz77.png");
        app.stage.addChild(gz77);
        gz77.anchor.set(0.5,0.5);
        gz77.scale.set(0.15,0.15);
        gz77.x=100;
        gz77.y=655;
        gz77.visible=false;


        var gz8 = new PIXI.Sprite.fromImage("res/gz8.png");
        app.stage.addChild(gz8);
        gz8.anchor.set(0.5,0.5);
        gz8.scale.set(0.15,0.15);
        gz8.x=190;
        gz8.y=540;
        var gz88 = new PIXI.Sprite.fromImage("res/gz88.png");
        app.stage.addChild(gz88);
        gz88.anchor.set(0.5,0.5);
        gz88.scale.set(0.15,0.15);
        gz88.x=190;
        gz88.y=550;
        gz88.visible=false;


        var gz = new PIXI.Sprite.fromImage("res/gz.png");
        app.stage.addChild(gz);
        gz.anchor.set(0.5,0.5);
        gz.scale.set(0.5,0.5);
        gz.x=gzx;
        gz.y=gzy;
        var bgz = new PIXI.Sprite.fromImage("res/gz2.png");
        app.stage.addChild(bgz);
        bgz.anchor.set(0.5,0.5);
        bgz.scale.set(0.7,0.7);
        bgz.x=gzx-5;
        bgz.y=gzy+5;
        bgz.visible=false;


        //变量区
        var go1 = false;
        var go2 = false;
        var go3 = false;
        var go4 = false;
        var go5 = false;
        var go6 = false;
        var go7 = false;


        var back1 = false;
        var back2 = false;
        var back3 = false;
        var back4 = false;
        var back5 = false;
        var back6 = false;
        var back7 = false;



        var sj1 = false;
        var sj2 = false;
        var sj3 = false;
        var sj4 = false;
        var sj5 = false;
        var sj6 = false;
        var sj7 = false;




        //函数功能区
        app.ticker.add(animate);
        function animate()
        {
            fpz1();
            fpz2();
            fpz3();
            fpz4();
            fpz5();
            fpz6();
            fpz7();
        }

        gz1.interactive=true;
        gz1.on("click",active1);
        function active1()
        {
            if(gz.x===180 && gz.y===190)
            {
                gz.rotation = -0.5;
                go1=true;
            }
            //console.log(go1);
        }

        gz3.interactive=true;
        gz3.on("click",active2);
        function active2()
        {
            if(gz.x===180 && gz.y===190)
            {
                gz.rotation=-0.7;
                go2=true;
            }
            //console.log(go2);
        }

        gz4.interactive=true;
        gz4.on("click",active3);
        function active3()
        {
            if(gz.x===180 && gz.y===190)
            {
                gz.rotation=-0.3;
                go3=true;
            }
            //console.log(go2);
        }

        gz5.interactive=true;
        gz5.on("click",active4);
        function active4()
        {
            if(gz.x===180 && gz.y===190)
            {
                gz.rotation=0.8;
                go4=true;
            }
            //console.log(go2);
        }


        gz6.interactive=true;
        gz6.on("click",active5);
        function active5()
        {
            if(gz.x===180 && gz.y===190)
            {
                gz.rotation=-0.3;
                go5=true;
            }
            //console.log(go2);
        }


        gz7.interactive=true;
        gz7.on("click",active6);
        function active6()
        {
            if(gz.x===180 && gz.y===190)
            {
                gz.rotation=0.3;
                go6=true;
            }
            //console.log(go2);
        }


        gz8.interactive=true;
        gz8.on("click",active7);
        function active7()
        {
            if(gz.x===180 && gz.y===190)
            {

                go7=true;
            }
            //console.log(go2);
        }


        function fpz1()
        {
            var g = gz1;
            var gg = gz11;
            if(go1)
            {
                if(gz.x!==g.x)gz.x=gz.x+0.8;
                if(gz.y!==g.y)gz.y=gz.y+1.5;
                bgz.x=gz.x;
                bgz.y=gz.y;
                console.log(gz.x);
                if(g.y-gz.y<=20 && g.y-gz.y>=0)
                {

                    gz.visible=false;
                    bgz.visible=true;
                    back1=true;
                    go1=false;
                    console.log(bgz.visible);
                }

            }
            if(back1)
            {

                //t.Text("back");
                if(gz.x>gzx)gz.x=gz.x-0.8;
                if(gz.y>gzy)gz.y=gz.y-1.5;
                bgz.x=gz.x;
                bgz.y=gz.y;
                g.visible=false;
                gg.visible=true;
                gg.x=bgz.x;
                gg.y=bgz.y;
                console.log(gz.x,gz.y);

                if(gz.x<=gzx && gz.y<=gzy)
                {
                    //pz11.visible=false;
                    //pz111.visible=true;
                    sj1=true;
                    back1=false;
                    //pz11.scale.x=0.01;
                    //pz11.scale.y=0.01;
                    gz.visible=true;
                    bgz.visible=false;
                    gz.rotation=0;
                    console.log(sj1);
                }
            }
            if(sj1)
            {


                if(gg.scale.x>0.02)
                {
                    gg.scale.x-=0.001;
                    gg.scale.y-=0.001;
                    gg.x-=1;
                    gg.y+=6;
                    console.log(gg.scale.x,gg.scale.y);
                }
                if(gg.scale.x<0.02)
                {
                    gz.y=gzy;
                    gz.x=gzx;
                    sj1=false;
                    gg.visible=false;
                    console.log(gz.x,gz.y);
                }

            }

        }


        function fpz2()
        {
            var g = gz3;
            var gg = gz33;

            if(go2)
            {
                if(gz.x!==g.x)gz.x=gz.x+0.6;
                if(gz.y!==g.y)gz.y++;
                bgz.x=gz.x;
                bgz.y=gz.y;
                console.log(gz.x);
                if(g.y-gz.y<=20 && g.y-gz.y>=0)
                {

                    gz.visible=false;
                    bgz.visible=true;

                    back2=true;
                    go2=false;

                    console.log("go区");
                }

            }
            if(back2)
            {

                //t.Text("back");
                if(gz.x>gzx)gz.x=gz.x-0.6;
                if(gz.y>gzy)gz.y=gz.y-1;
                bgz.x=gz.x;
                bgz.y=gz.y;
                g.visible=false;
                gg.visible=true;
                gg.x=bgz.x;
                gg.y=bgz.y;
                console.log(gz.x,gz.y);

                if(gz.x<=gzx && gz.y<=gzy)
                {
                    //pz11.visible=false;
                    //pz111.visible=true;
                    sj2=true;
                    back2=false;
                    //pz11.scale.x=0.01;
                    //pz11.scale.y=0.01;
                    gz.visible=true;
                    bgz.visible=false;
                    gz.rotation=0;
                    console.log("back区");
                }
            }
            if(sj2)
            {


                if(gg.scale.x>0.02)
                {
                    gg.scale.x-=0.001;
                    gg.scale.y-=0.001;
                    gg.x-=1;
                    gg.y+=6;
                    console.log(gg.scale.x,gg.scale.y);
                }
                if(gg.scale.x<0.02)
                {
                    gz.y=gzy;
                    gz.x=gzx;
                    sj2=false;
                    gg.visible=false;
                    console.log("sj区");
                }

            }

        }


        function fpz3()
        {
            var g = gz4;
            var gg = gz44;

            if(go3)
            {
                if(gz.x!==g.x)gz.x=gz.x+0.8;
                if(gz.y!==g.y)gz.y=gz.y+2.5;
                bgz.x=gz.x;
                bgz.y=gz.y;
                console.log(gz.x);
                if(g.y-gz.y<=20 && g.y-gz.y>=0)
                {

                    gz.visible=false;
                    bgz.visible=true;

                    back3=true;
                    go3=false;

                    console.log("go区");
                }

            }
            if(back3)
            {

                //t.Text("back");
                if(gz.x>gzx)gz.x=gz.x-0.8;
                if(gz.y>gzy)gz.y=gz.y-2.5;
                bgz.x=gz.x;
                bgz.y=gz.y;
                g.visible=false;
                gg.visible=true;
                gg.x=bgz.x;
                gg.y=bgz.y;
                console.log(gz.x,gz.y);

                if(gz.x<=gzx && gz.y<=gzy)
                {
                    //pz11.visible=false;
                    //pz111.visible=true;
                    sj3=true;
                    back3=false;
                    //pz11.scale.x=0.01;
                    //pz11.scale.y=0.01;
                    gz.visible=true;
                    bgz.visible=false;
                    gz.rotation=0;
                    console.log("back区");
                }
            }
            if(sj3)
            {


                if(gg.scale.x>0.02)
                {
                    gg.scale.x-=0.001;
                    gg.scale.y-=0.001;
                    gg.x-=1;
                    gg.y+=6;
                    console.log(gg.scale.x,gg.scale.y);
                }
                if(gg.scale.x<0.02)
                {
                    gz.y=gzy;
                    gz.x=gzx;
                    sj3 = false;
                    gg.visible=false;
                    console.log("sj区");
                }

            }

        }

        function fpz4()
        {
            var g = gz5;
            var gg = gz55;
            //console.log(go4);
            if(go4)
            {
                if(gz.x!==g.x)gz.x=gz.x-0.8;
                if(gz.y!==g.y)gz.y=gz.y+0.8;
                bgz.x=gz.x;
                bgz.y=gz.y;
                console.log(gz.x);
                if(g.y-gz.y<=20 && g.y-gz.y>=0)
                {

                    gz.visible=false;
                    bgz.visible=true;

                    back4=true;
                    go4=false;

                    console.log("go区");
                }

            }
            if(back4)
            {

                //t.Text("back");
                if(gz.x<gzx)gz.x=gz.x+3;
                if(gz.y>gzy)gz.y=gz.y-0.8;
                bgz.x=gz.x;
                bgz.y=gz.y;
                g.visible=false;
                gg.visible=true;
                gg.x=bgz.x;
                gg.y=bgz.y;
                console.log(gz.x,gz.y);

                if(gz.x>=gzx && gz.y<=gzy)
                {
                    //pz11.visible=false;
                    //pz111.visible=true;
                    sj4=true;
                    back4=false;
                    //pz11.scale.x=0.01;
                    //pz11.scale.y=0.01;
                    gz.visible=true;
                    bgz.visible=false;
                    gz.rotation=0;
                    console.log("back区");
                }
            }
            if(sj4)
            {


                if(gg.scale.x>0.02)
                {
                    gg.scale.x-=0.001;
                    gg.scale.y-=0.001;
                    gg.x-=1;
                    gg.y+=6;
                    console.log(gg.scale.x,gg.scale.y);
                }
                if(gg.scale.x<0.02)
                {
                    gz.y=gzy;
                    gz.x=gzx;
                    sj4 = false;
                    gg.visible=false;
                    console.log("sj区");
                }

            }

        }

        function fpz5()
        {
            var g = gz6;
            var gg = gz66;

            if(go5)
            {
                if(gz.x!==g.x)gz.x=gz.x+0.8;
                if(gz.y!==g.y)gz.y=gz.y+1.5;
                bgz.x=gz.x;
                bgz.y=gz.y;
                console.log(gz.x);
                if(g.y-gz.y<=20 && g.y-gz.y>=0)
                {

                    gz.visible=false;
                    bgz.visible=true;

                    back5=true;
                    go5=false;

                    console.log("go区");
                }

            }
            if(back5)
            {

                //t.Text("back");
                if(gz.x>gzx)gz.x=gz.x-0.8;
                if(gz.y>gzy)gz.y=gz.y-1.5;
                bgz.x=gz.x;
                bgz.y=gz.y;
                g.visible=false;
                gg.visible=true;
                gg.x=bgz.x;
                gg.y=bgz.y;
                console.log(gz.x,gz.y);

                if(gz.x<=gzx && gz.y<=gzy)
                {
                    //pz11.visible=false;
                    //pz111.visible=true;
                    sj5=true;
                    back5=false;
                    //pz11.scale.x=0.01;
                    //pz11.scale.y=0.01;
                    gz.visible=true;
                    bgz.visible=false;
                    gz.rotation=0;
                    console.log("back区");
                }
            }
            if(sj5)
            {


                if(gg.scale.x>0.02)
                {
                    gg.scale.x-=0.001;
                    gg.scale.y-=0.001;
                    gg.x-=1;
                    gg.y+=6;
                    console.log(gg.scale.x,gg.scale.y);
                }
                if(gg.scale.x<0.02)
                {
                    gz.y=gzy;
                    gz.x=gzx;
                    sj5 = false;
                    gg.visible=false;
                    console.log("sj区");
                }

            }

        }

        function fpz6()
        {
            var g = gz7;
            var gg = gz77;

            if(go6)
            {
                if(gz.x!==g.x)gz.x=gz.x-0.5;
                if(gz.y!==g.y)gz.y=gz.y+2.5;
                bgz.x=gz.x;
                bgz.y=gz.y;
                console.log(gz.x);
                if(g.y-gz.y<=20 && g.y-gz.y>=0)
                {

                    gz.visible=false;
                    bgz.visible=true;

                    back6=true;
                    go6=false;

                    console.log("go区");
                }

            }
            if(back6)
            {

                //t.Text("back");
                if(gz.x<gzx)gz.x=gz.x+0.5;
                if(gz.y>gzy)gz.y=gz.y-2.5;
                bgz.x=gz.x;
                bgz.y=gz.y;
                g.visible=false;
                gg.visible=true;
                gg.x=bgz.x;
                gg.y=bgz.y;
                console.log(gz.x,gz.y);

                if(gz.x>=gzx && gz.y<=gzy)
                {
                    //pz11.visible=false;
                    //pz111.visible=true;
                    sj6=true;
                    back6=false;
                    //pz11.scale.x=0.01;
                    //pz11.scale.y=0.01;
                    gz.visible=true;
                    bgz.visible=false;
                    gz.rotation=0;
                    console.log("back区");
                }
            }
            if(sj6)
            {


                if(gg.scale.x>0.02)
                {
                    gg.scale.x-=0.001;
                    gg.scale.y-=0.001;
                    gg.x-=1;
                    gg.y+=6;
                    console.log(gg.scale.x,gg.scale.y);
                }
                if(gg.scale.x<0.02)
                {
                    gz.y=gzy;
                    gz.x=gzx;
                    sj6 = false;
                    gg.visible=false;
                    console.log("sj区");
                }

            }

        }

        function fpz7()
        {
            var g = gz8;
            var gg = gz88;

            if(go7)
            {
                //if(gz.x!==g.x)gz.x=gz.x+0.3;
                if(gz.y!==g.y)gz.y=gz.y+2;
                bgz.x=gz.x;
                bgz.y=gz.y;
                console.log(gz.x);
                if(g.y-gz.y<=20 && g.y-gz.y>=0)
                {

                    gz.visible=false;
                    bgz.visible=true;

                    back7=true;
                    go7=false;

                    console.log("go区");
                }

            }
            if(back7)
            {

                //t.Text("back");
                //if(gz.x>gzx)gz.x=gz.x-0.6;
                if(gz.y>gzy)gz.y=gz.y-2;
                bgz.x=gz.x;
                bgz.y=gz.y;
                g.visible=false;
                gg.visible=true;
                gg.x=bgz.x;
                gg.y=bgz.y;
                console.log(gz.x,gz.y);

                if(gz.x<=gzx && gz.y<=gzy)
                {
                    //pz11.visible=false;
                    //pz111.visible=true;
                    sj7=true;
                    back7=false;
                    //pz11.scale.x=0.01;
                    //pz11.scale.y=0.01;
                    gz.visible=true;
                    bgz.visible=false;
                    gz.rotation=0;
                    console.log("back区");
                }
            }
            if(sj7)
            {


                if(gg.scale.x>0.02)
                {
                    gg.scale.x-=0.001;
                    gg.scale.y-=0.001;
                    gg.x-=1;
                    gg.y+=6;
                    console.log(gg.scale.x,gg.scale.y);
                }
                if(gg.scale.x<0.02)
                {
                    gz.y=gzy;
                    gz.x=gzx;
                    sj7 = false;
                    gg.visible=false;
                    console.log("sj区");
                }

            }

        }


    </script>
    </div>

    <div >
        <h3><a id="world" href="End.html">下一页</a></h3>
    </div>
</body>
</html>